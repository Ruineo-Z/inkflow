{
  "permissions": {
    "allow": [
      "Bash(git restore:*)",
      "Bash(uv run:*)",
      "Bash(npm run dev:*)",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(chmod:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(docker login:*)",
      "Bash(docker logout:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(docker build:*)",
      "Bash(docker stop inkflow-frontend-container)",
      "Bash(docker rm inkflow-frontend-container)",
      "Bash(docker pull:*)",
      "Bash(gh workflow:*)",
      "Bash(gh run list:*)",
      "Bash(docker system prune:*)",
      "Bash(docker manifest:*)",
      "Bash(gh run view:*)",
      "Bash(ssh:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_fill_form",
      "mcp__playwright__browser_network_requests",
      "Bash(source:*)",
      "Bash(uvicorn:*)",
      "mcp__playwright__browser_evaluate",
      "mcp__playwright__browser_close",
      "mcp__context7__resolve-library-id",
      "mcp__context7__get-library-docs",
      "mcp__playwright__browser_handle_dialog",
      "Bash(/bashes)",
      "Bash(npm run build:*)",
      "Bash(echo:*)",
      "Bash(export API_BASE_URL=\"http://inkflow_backend:8000/api/v1\")",
      "Bash(API_BASE_URL=\"http://inkflow_backend:8000/api/v1\")",
      "mcp__playwright__browser_type",
      "mcp__playwright__browser_snapshot",
      "mcp__playwright__browser_wait_for",
      "mcp__playwright__browser_press_key",
      "Bash(mkdir:*)",
      "mcp__promptx__discover",
      "mcp__promptx__action",
      "mcp__promptx__recall",
      "Bash(curl:*)",
      "mcp__promptx__remember",
      "Bash(docker:*)",
      "Bash(docker-compose:*)",
      "Bash(DATABASE_URL=\"postgresql://admin:admin123@localhost:5432/inkflow\" uv run alembic current)",
      "Bash(DATABASE_URL:*)",
      "Bash(uv add:*)",
      "Bash(git log:*)",
      "Bash(DATABASE_URL=\"postgresql://admin:admin123@localhost:5432/inkflow\" uv run alembic upgrade head)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\\d chapters\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT version_num FROM alembic_version;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"UPDATE alembic_version SET version_num = ''316cc97feb71'';\")",
      "Bash(python:*)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, title, status, LEFT(content, 50) as content_preview FROM chapters LIMIT 5;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\\dT+ chapterstatus\")",
      "Bash(DATABASE_URL=\"postgresql://admin:admin123@localhost:5432/inkflow\" uv run alembic history)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"UPDATE alembic_version SET version_num = ''ce0b5e4d2b89'';\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"DROP TYPE IF EXISTS chapterstatus CASCADE;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\n-- 重新添加status列\nALTER TABLE chapters ADD COLUMN status VARCHAR(20) NOT NULL DEFAULT ''completed'';\n\n-- 创建枚举类型\nCREATE TYPE chapterstatus AS ENUM (''generating'', ''completed'', ''failed'');\n\n-- 修改列类型\nALTER TABLE chapters ALTER COLUMN status DROP DEFAULT;\nALTER TABLE chapters ALTER COLUMN status TYPE chapterstatus USING status::chapterstatus;\nALTER TABLE chapters ALTER COLUMN status SET DEFAULT ''completed''::chapterstatus;\n\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"UPDATE alembic_version SET version_num = ''07f492baa56a'';\")",
      "Bash(git checkout:*)",
      "Bash(python3:*)",
      "WebFetch(domain:platform.moonshot.cn)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, username, email FROM users LIMIT 3;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\\d users\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, name, email FROM users LIMIT 3;\")",
      "Bash(xargs kill:*)",
      "Read(//private/tmp/**)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, title, LEFT(content, 800) as content_preview FROM chapters WHERE id = 9 LIMIT 1;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, title, status, content_length FROM chapters ORDER BY id DESC LIMIT 5;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT content FROM chapters WHERE id = 10;\")",
      "Bash(export PGPASSWORD=admin123)",
      "Bash(psql:*)",
      "Read(//tmp/**)",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, option_text FROM options WHERE chapter_id = 10 LIMIT 3;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT n.id, n.title, n.user_id, u.email FROM novels n JOIN users u ON n.user_id = u.id WHERE n.id = 4;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT email, hashed_password FROM users WHERE id = 1;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"SELECT id, email FROM users WHERE id = 1;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"INSERT INTO user_choices (user_id, chapter_id, option_id) VALUES (2, 10, 101) ON CONFLICT DO NOTHING RETURNING id;\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\nSELECT n.id as novel_id, n.title, c.id as chapter_id, c.chapter_number, \n       (SELECT COUNT(*) FROM options WHERE chapter_id = c.id) as option_count\nFROM novels n \nLEFT JOIN chapters c ON n.id = c.novel_id \nWHERE n.id = (SELECT MAX(id) FROM novels)\nORDER BY c.chapter_number;\n\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\nSELECT id, option_text FROM options WHERE chapter_id = 15 LIMIT 1;\n\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\nSELECT user_id FROM novels WHERE id = 16;\n\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU5NTY3ODg1fQ.nflp0--HkM0ANZqF7_eGya9Slv3fxNDyw5XVwshNBFQ\")",
      "Bash(PGPASSWORD=admin123 psql -h localhost -U admin -d inkflow -c \"\\d novels\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU5NTY3ODg1fQ.nflp0--HkM0ANZqF7_eGya9Slv3fxNDyw5XVwshNBFQ\" curl -s -X POST \"http://localhost:8080/api/v1/novels/16/chapters/generate\" -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\" -d '{\"\"\"\"selected_option_id\"\"\"\": 151}')"
    ],
    "deny": [],
    "ask": []
  }
}